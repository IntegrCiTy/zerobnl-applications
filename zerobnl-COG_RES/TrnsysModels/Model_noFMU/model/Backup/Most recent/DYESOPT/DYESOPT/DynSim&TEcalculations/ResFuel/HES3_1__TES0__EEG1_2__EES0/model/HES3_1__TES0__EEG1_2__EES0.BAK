VERSION 17
*TRNSED
*******************************************************************************
*** TRNSYS input file (deck) generated by TrnsysStudio
*** on Friday, June 29, 2018 at 12:16
*** from TrnsysStudio project: C:\Osama\TRNExecutable\TRNSED_App\CHP_RES_FUELmodel\HES3_1__TES0__EEG1_2__EES0.tpf
*** 
*** If you edit this file, use the File/Import TRNSYS Input File function in 
*** TrnsysStudio to update the project. 
*** 
*** If you have problems, questions or suggestions please contact your local 
*** TRNSYS distributor or mailto:software@cstb.fr 
*** 
*******************************************************************************
*
*|<BACKGROUND> WHITE
*|<COLOR1> RED
*|<SIZE1> 14
*|<ALIGN1> CENTER
*|<STYLE1> ITALIC BOLD
 
*|[HEADER|
*|*TRNSYS 17
*|<STYLE1> BOLD
*|<COLOR1> NAVY
*|<SIZE1> 12
*|* TRNSYS input file: HES3_1__TES0__EEG1_2__EES0.TRD
*|* TrnsysStudio Project: C:\Osama\TRNExecutable\TRNSED_App\CHP_RES_FUELmodel\HES3_1__TES0__EEG1_2__EES0.tpf
*|*generated by TrnsysStudio, Friday, June 29, 2018 at 12:16
*|*
*|]
 
*|<COLOR1> RED
*|<ALIGN1> LEFT
*
*******************************************************************************
*** Units 
*******************************************************************************
*
*******************************************************************************
*** Control cards
*******************************************************************************
* START, STOP and STEP
*|[SIMPAR|Simulation Parameters
EQUATIONS 5
I_MONTH= 0
*|<Month of the simulation                    |Month1.dat|1|2|2
I_DAY= 1.0000000000000E+00
*|Day of Month for Simulation Start           |||0|1|1|31|3
I_LENGTH= 7
*|<Length of Simulation                       |Length.dat|2|1|4
START=I_MONTH+24*(I_DAY-1)
STOP=START+I_LENGTH*24
EQUATIONS 1
STEP= 1.2500000000000E-01
*|Timestep |hours|hours|0|1|0.0000277777778|10000.00000|1000
*|]
SIMULATION 	 START	 STOP	 STEP	! Start time	End time	Time step
TOLERANCES 0.001 0.001			! Integration	 Convergence
LIMITS 30 500 50				! Max iterations	Max warnings	Trace limit
DFQ 1					! TRNSYS numerical integration solver method
WIDTH 80				! TRNSYS output file width, number of characters
LIST 					! NOLIST statement
					! MAP statement
SOLVER 0 1 1				! Solver statement	Minimum relaxation factor	Maximum relaxation factor
NAN_CHECK 0				! Nan DEBUG statement
OVERWRITE_CHECK 0			! Overwrite DEBUG statement
TIME_REPORT 0			! disable time report
EQSOLVER 0				! EQUATION SOLVER statement
* User defined CONSTANTS 
INCLUDE "caseData.txt" 
*
* Model "Stage_LPT-3" (Type 318)
* 
*
*
UNIT 2 TYPE 318	 Stage_LPT-3
*$UNIT_NAME Stage_LPT-3
*$MODEL .\STEC Library\Rankine\Turbine\Stage.tmf
*$POSITION 1764 255
*$LAYER Main # 
PARAMETERS 8
LPT3_Pi_dsgn		! 1 design inlet pressure
LPT3_Po_dsgn		! 2 design outlet pressure
LPT3_FR_dsgn		! 3 design flow rate
LPT3_ETA_dsgn		! 4 design inner efficiency
0.98		! 5 generator efficiency
0.0		! 6 coef. for inner eff eq
0.0		! 7 b coeff for inner eff
0.0		! 8 c coeff for inner eff
INPUTS 4
8,2 		! X2H-3:steam pressure ->Turbine outlet pressure
41,3 		! S-split-5:outlet flow rate 2 ->Turbine inlet flow rate
41,6 		! S-split-5:outlet enthalpy 2 ->Turbine inlet enthalpy
0,0		! [unconnected] Bypass indicator
*** INITIAL INPUT VALUES
LPT3_Po LPT3_FR LPT3_h LPT3_bypass 
*------------------------------------------------------------------------------
*
* Model "T_ret" (Type 9)
* 
*
*|*
*|* *** Model T_ret (Type 9, Unit 3)
*|*
CONSTANTS 8
*|*PARAMETERS																							VALUES			UNITS
MODE= 3.0000000000000E+00
*|Mode                                    |-|-|0|1|1|6.000|1000
HEADERLI= 0.0000000000000E+00
*|Header Lines to Skip                    |-|-|0|1|0|1000000.00000|1000
NOOFVALU= 1.0000000000000E+00
*|No. of values to read                   |-|-|0|1|1|98.000|1000
TIMEINTE= 5.0000000000000E-01
*|Time interval of data                   |hr|hr|0|1|0.0|1000000.00000|1000
INTERPOL= 1.0000000000000E+00
*|Interpolate or not                      |-|-|0|1|-1|1.000|1000
MULTIPLI= 1.0000000000000E+00
*|Multiplication factor                   |-|-|0|1|-1000000.00000|1000000.00000|1000
ADDITION= 0.0000000000000E+00
*|Addition factor                         |-|-|0|1|-1000000.00000|1000000.00000|1000
AVERAGEO= 1.0000000000000E+00
*|Average or instantaneous value          |-|-|0|1|0|1.000|1000
*
UNIT 3 TYPE 9	 T_ret
*$UNIT_NAME T_ret
*$MODEL .\Utility\Data Readers\Generic Data Files\Expert Mode\Free Format\Type9e.tmf
*$POSITION 2153 679
*$LAYER Main # 
PARAMETERS 10
MODE		! 1 Mode
HEADERLI		! 2 Header Lines to Skip
NOOFVALU		! 3 No. of values to read
TIMEINTE		! 4 Time interval of data
INTERPOL		! 5 Interpolate or not
MULTIPLI		! 6 Multiplication factor
ADDITION		! 7 Addition factor
AVERAGEO		! 8 Average or instantaneous value
56		! 9 Logical unit for input file
-1		! 10 Free format mode
*** External files
ASSIGN "T_return_excel.txt" 56
*|? Input file name |1000
*------------------------------------------------------------------------------
*
* Model "m_DH" (Type 9)
* 
*
*|*
*|* *** Model m_DH (Type 9, Unit 4)
*|*
CONSTANTS 8
*|*PARAMETERS																							VALUES			UNITS
MODE1= 3.0000000000000E+00
*|Mode                                    |-|-|0|1|1|6.000|1000
HEADERLI1= 0.0000000000000E+00
*|Header Lines to Skip                    |-|-|0|1|0|1000000.00000|1000
NOOFVALU1= 1.0000000000000E+00
*|No. of values to read                   |-|-|0|1|1|98.000|1000
TIMEINTE1= 5.0000000000000E-01
*|Time interval of data                   |hr|hr|0|1|0.0|1000000.00000|1000
INTERPOL1= 1.0000000000000E+00
*|Interpolate or not                      |-|-|0|1|-1|1.000|1000
MULTIPLI1= 1.0000000000000E+00
*|Multiplication factor                   |-|-|0|1|-1000000.00000|1000000.00000|1000
ADDITION1= 0.0000000000000E+00
*|Addition factor                         |-|-|0|1|-1000000.00000|1000000.00000|1000
AVERAGEO1= 1.0000000000000E+00
*|Average or instantaneous value          |-|-|0|1|0|1.000|1000
*
UNIT 4 TYPE 9	 m_DH
*$UNIT_NAME m_DH
*$MODEL .\Utility\Data Readers\Generic Data Files\Expert Mode\Free Format\Type9e.tmf
*$POSITION 2153 605
*$LAYER Main # 
PARAMETERS 10
MODE1		! 1 Mode
HEADERLI1		! 2 Header Lines to Skip
NOOFVALU1		! 3 No. of values to read
TIMEINTE1		! 4 Time interval of data
INTERPOL1		! 5 Interpolate or not
MULTIPLI1		! 6 Multiplication factor
ADDITION1		! 7 Addition factor
AVERAGEO1		! 8 Average or instantaneous value
57		! 9 Logical unit for input file
-1		! 10 Free format mode
*** External files
ASSIGN "m_DH_excel.txt" 57
*|? Input file name |1000
*------------------------------------------------------------------------------
*
* Model "T-sup" (Type 9)
* 
*
*|*
*|* *** Model T-sup (Type 9, Unit 5)
*|*
CONSTANTS 8
*|*PARAMETERS																							VALUES			UNITS
MODE2= 3.0000000000000E+00
*|Mode                                    |-|-|0|1|1|6.000|1000
HEADERLI2= 0.0000000000000E+00
*|Header Lines to Skip                    |-|-|0|1|0|1000000.00000|1000
NOOFVALU2= 1.0000000000000E+00
*|No. of values to read                   |-|-|0|1|1|98.000|1000
TIMEINTE2= 5.0000000000000E-01
*|Time interval of data                   |hr|hr|0|1|0.0|1000000.00000|1000
INTERPOL2= 1.0000000000000E+00
*|Interpolate or not                      |-|-|0|1|-1|1.000|1000
MULTIPLI2= 1.0000000000000E+00
*|Multiplication factor                   |-|-|0|1|-1000000.00000|1000000.00000|1000
ADDITION2= 0.0000000000000E+00
*|Addition factor                         |-|-|0|1|-1000000.00000|1000000.00000|1000
AVERAGEO2= 1.0000000000000E+00
*|Average or instantaneous value          |-|-|0|1|0|1.000|1000
*
UNIT 5 TYPE 9	 T-sup
*$UNIT_NAME T-sup
*$MODEL .\Utility\Data Readers\Generic Data Files\Expert Mode\Free Format\Type9e.tmf
*$POSITION 2153 508
*$LAYER Main # 
PARAMETERS 10
MODE2		! 1 Mode
HEADERLI2		! 2 Header Lines to Skip
NOOFVALU2		! 3 No. of values to read
TIMEINTE2		! 4 Time interval of data
INTERPOL2		! 5 Interpolate or not
MULTIPLI2		! 6 Multiplication factor
ADDITION2		! 7 Addition factor
AVERAGEO2		! 8 Average or instantaneous value
58		! 9 Logical unit for input file
-1		! 10 Free format mode
*** External files
ASSIGN "T_supply_excel.txt" 58
*|? Input file name |1000
*------------------------------------------------------------------------------
*
* Model "DH" (Type 65)
* 
*
*
UNIT 6 TYPE 65	 DH
*$UNIT_NAME DH
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 2504 596
*$LAYER Main # 
PARAMETERS 12
2		! 1 Nb. of left-axis variables
2		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
100.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
100000		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
59		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 4
3,1 		! T_ret:Output 1 ->Left axis variable-1
5,1 		! T-sup:Output 1 ->Left axis variable-2
Qdh		! Equa:Qdh ->Right axis variable-1
Qsteam		! Equa:Qsteam ->Right axis variable-2
*** INITIAL INPUT VALUES
T-ret T-sup Q_DH Q_steam 
LABELS  3
"Temperatures"
"Thermal Power"
"DH"
*** External files
ASSIGN "DHpara.plt" 59
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* EQUATIONS "Cond_low"
* 
EQUATIONS 6
Qdh_low = [4,1]*4.186*(Tout_cond_low-[3,1])
Qsteam_low = m_steamlow_sec*([2,3]-[8,1])
m_steamlow_sec = [2,2]/3600
m_ls_out_h = [2,2]
m_dh_out = [4,1]
Tin_cond_high = Tout_cond_low
*$UNIT_NAME Cond_low
*$LAYER Main
*$POSITION 1879 562
*
*------------------------------------------------------------------------------
*
*
* Model "X2H-3" (Type 391)
* 
*
*
UNIT 8 TYPE 391	 X2H-3
*$UNIT_NAME X2H-3
*$MODEL .\STEC Library\Rankine\Utility\X2H.tmf
*$POSITION 1963 359
*$LAYER Main # 
INPUTS 4
Tcond_low		! T,p_cond:Tcond_low ->Steam temperture
pcond_low_bar		! T,p_cond:pcond_low_bar ->Steam pressure
0,0		! [unconnected] Steam quality
2,2 		! Stage_LPT-3:turbine outlet flowrate ->Steam flow rate
*** INITIAL INPUT VALUES
300 20 0.000001 206352 
*------------------------------------------------------------------------------
*
* EQUATIONS "T,p_cond"
* 
EQUATIONS 5
Tcond_low = Tout_cond_low+4
pcond_low_bar = 10^(-8)*(Tcond_low-62)^4+2*10^(-6)*(Tcond_low-62)^3+0.0002*(Tcond_low-62)^2+0.0099*(Tcond_low-62)+0.2187
Tout_cond_low = 0.00000002*[51,1]^2-0.0018*[51,1]+97.079
Tcond_high = [5,1]+2
pcond_high_bar = 10^(-8)*(Tcond_high-62)^4+2*10^(-6)*(Tcond_high-62)^3+0.0002*(Tcond_high-62)^2+0.0099*(Tcond_high-62)+0.2187  
*$UNIT_NAME T,p_cond
*$LAYER Main
*$POSITION 2011 436
*
*------------------------------------------------------------------------------
*
*
* Model "p,h_cond_low" (Type 65)
* 
*
*
UNIT 10 TYPE 65	 p,h_cond_low
*$UNIT_NAME p,h_cond_low
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 2166 317
*$LAYER Main # 
PARAMETERS 12
1		! 1 Nb. of left-axis variables
2		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
10.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
3000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
60		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 3
8,2 		! X2H-3:steam pressure ->Left axis variable
8,1 		! X2H-3:steam enthalpy ->Right axis variable-1
2,3 		! Stage_LPT-3:turbine outlet enthalpy ->Right axis variable-2
*** INITIAL INPUT VALUES
pcond_low hcond_low hsteam_low 
LABELS  3
"Pressures"
"Enthalpies"
"CondLow"
*** External files
ASSIGN "condLow.txt" 60
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "LPT" (Type 65)
* 
*
*
UNIT 11 TYPE 65	 LPT
*$UNIT_NAME LPT
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 1222 148
*$LAYER Main # 
PARAMETERS 12
3		! 1 Nb. of left-axis variables
3		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
10.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
200000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
61		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 6
2,1 		! Stage_LPT-3:turbine inlet pressure ->Left axis variable-1
17,1 		! Stage_LPT-2:turbine inlet pressure ->Left axis variable-2
25,1 		! Stage_LPT-1:turbine inlet pressure ->Left axis variable-3
2,2 		! Stage_LPT-3:turbine outlet flowrate ->Right axis variable-1
17,2 		! Stage_LPT-2:turbine outlet flowrate ->Right axis variable-2
25,2 		! Stage_LPT-1:turbine outlet flowrate ->Right axis variable-3
*** INITIAL INPUT VALUES
LPT3pin LPT2pin LPT1pin LPT3mout LPT2mout LPT1mout 
LABELS  3
"Mass Flow Rates"
"Pressures"
"LPT"
*** External files
ASSIGN "LPT.txt" 61
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "S-split" (Type 389)
* 
*
*
UNIT 12 TYPE 389	 S-split
*$UNIT_NAME S-split
*$MODEL .\STEC Library\Rankine\Turbine\S-split.tmf
*$POSITION 1261 778
*$LAYER Main # 
INPUTS 4
13,2 		! Deaerator:required steam flow rate ->Demanded Flow Out 1
17,2 		! Stage_LPT-2:turbine outlet flowrate ->inlet flow rate
41,4 		! S-split-5:inlet pressure  ->outlet pressure 2
17,3 		! Stage_LPT-2:turbine outlet enthalpy ->inlet enthalpy
*** INITIAL INPUT VALUES
0 98254.57131999 1.0 2000 
*------------------------------------------------------------------------------
*
* Model "Deaerator" (Type 384)
* 
*
*
UNIT 13 TYPE 384	 Deaerator
*$UNIT_NAME Deaerator
*$MODEL .\STEC Library\Rankine\preheating\Deaerator.tmf
*$POSITION 1258 1023
*$LAYER Main # 
INPUTS 8
Tin_DeaLP		! MIX:Tin_DeaLP ->Feed Water in tmp
m_in_DeaLP		! MIX:m_in_DeaLP ->Feed Water flow rate
12,5 		! S-split:outlet enthalpy 1 ->steam inlet enthalpy
p_in_DeaLP		! dp_DeaLP:p_in_DeaLP ->steam inlet pressure
20,1 		! Subcooler-2:Hot-side outlet temperature ->condesate inlet temperture
20,2 		! Subcooler-2:Hot-side flow rate ->Condesate inlet flow rate
0,0		! [unconnected] Condensate inlet quality
0,0		! [unconnected] Dearator on/off
*** INITIAL INPUT VALUES
20 0. 3.e6 1.0 0.0 0.0 0.0 1.0 
*------------------------------------------------------------------------------
*
* Model "C-PUMP" (Type 390)
* 
*
*
UNIT 14 TYPE 390	 C-PUMP
*$UNIT_NAME C-PUMP
*$MODEL .\STEC Library\Rankine\Condenser\C-PUMP.tmf
*$POSITION 2087 959
*$LAYER Main # 
PARAMETERS 4
PUMP_befmix_mode		! 1 Mode of operation
PUMP_befmix_Pin		! 2 deltaP (1) or Pin(2)
PUMP_befmix_ro		! 3 Density of fluid
PUMP_befmix_ETA		! 4 Pumping efficiency
INPUTS 3
m_ls_out_h		! Cond_low:m_ls_out_h ->Demanded Mass flow rate
12,4 		! S-split:inlet pressure  ->Pump outlet pressure
Tcond_low		! T,p_cond:Tcond_low ->Inlet temperature
*** INITIAL INPUT VALUES
0 1.0 20.0 
*------------------------------------------------------------------------------
*
* Model "Type65c-4" (Type 65)
* 
*
*
UNIT 15 TYPE 65	 Type65c-4
*$UNIT_NAME Type65c-4
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 1949 1567
*$LAYER Main # 
PARAMETERS 12
3		! 1 Nb. of left-axis variables
0		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
200000.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
200000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
62		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 3
14,1 		! C-PUMP:Pump outlet mass flow ->Left axis variable-1
21,1 		! C-PUMP-2:Pump outlet mass flow ->Left axis variable-2
23,1 		! C-PUMP2:Pump outlet mass flow ->Left axis variable-3
*** INITIAL INPUT VALUES
Pump1flow PumpDeaLPflow PumpDeaHPflow 
LABELS  3
"Mass Flow Rates"
" "
"Pumps"
*** External files
ASSIGN "Pumps_mdot.txt" 62
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "m,T_RIG" (Type 65)
* 
*
*
UNIT 16 TYPE 65	 m,T_RIG
*$UNIT_NAME m,T_RIG
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 1311 1398
*$LAYER Main # 
PARAMETERS 12
4		! 1 Nb. of left-axis variables
4		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
200000.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
300.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
63		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 8
13,3 		! Deaerator:Feed Water out flow rate ->Left axis variable-1
19,3 		! Preheater-2:Cold side outlet flow rate ->Left axis variable-2
22,3 		! Deaerator-2:Feed Water out flow rate ->Left axis variable-3
30,3 		! Preheater:Cold side outlet flow rate ->Left axis variable-4
13,1 		! Deaerator:Feed water out temp ->Right axis variable-1
19,2 		! Preheater-2:Cold  side outlet temperture ->Right axis variable-2
22,1 		! Deaerator-2:Feed water out temp ->Right axis variable-3
30,2 		! Preheater:Cold  side outlet temperture ->Right axis variable-4
*** INITIAL INPUT VALUES
DeaLPmout ColdPHm_c_out DeaHPmout HotPHm_c_out DeaLPTout ColdPhT_c_out
DeaHPTout HotPhT_c_out 
*
LABELS  3
"Mass Flow Rates"
"Temperatures"
"Rigenerators"
*** External files
ASSIGN "RIGline.txt" 63
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "Stage_LPT-2" (Type 318)
* 
*
*
UNIT 17 TYPE 318	 Stage_LPT-2
*$UNIT_NAME Stage_LPT-2
*$MODEL .\STEC Library\Rankine\Turbine\Stage.tmf
*$POSITION 1123 682
*$LAYER Main # 
PARAMETERS 8
LPT2_Pi_dsgn		! 1 design inlet pressure
LPT2_Po_dsgn		! 2 design outlet pressure
LPT2_FR_dsgn		! 3 design flow rate
LPT2_ETA_dsgn		! 4 design inner efficiency
0.98		! 5 generator efficiency
0.0		! 6 coef. for inner eff eq
0.0		! 7 b coeff for inner eff
0.0		! 8 c coeff for inner eff
INPUTS 4
12,4 		! S-split:inlet pressure  ->Turbine outlet pressure
18,3 		! S-split-3:outlet flow rate 2 ->Turbine inlet flow rate
18,6 		! S-split-3:outlet enthalpy 2 ->Turbine inlet enthalpy
0,0		! [unconnected] Bypass indicator
*** INITIAL INPUT VALUES
LPT2_Po LPT2_FR LPT2_h LPT2_bypass 
*------------------------------------------------------------------------------
*
* Model "S-split-3" (Type 389)
* 
*
*
UNIT 18 TYPE 389	 S-split-3
*$UNIT_NAME S-split-3
*$MODEL .\STEC Library\Rankine\Turbine\S-split.tmf
*$POSITION 994 778
*$LAYER Main # 
INPUTS 4
19,1 		! Preheater-2:Demanded hot inlet flow rate ->Demanded Flow Out 1
25,2 		! Stage_LPT-1:turbine outlet flowrate ->inlet flow rate
17,1 		! Stage_LPT-2:turbine inlet pressure ->outlet pressure 2
25,3 		! Stage_LPT-1:turbine outlet enthalpy ->inlet enthalpy
*** INITIAL INPUT VALUES
0 0 1.0 2000 
*------------------------------------------------------------------------------
*
* Model "Preheater-2" (Type 317)
* 
*
*
UNIT 19 TYPE 317	 Preheater-2
*$UNIT_NAME Preheater-2
*$MODEL .\STEC Library\Rankine\preheating\Preheater.tmf
*$POSITION 1002 1023
*$LAYER Main # 
PARAMETERS 4
PH3_Cp_cold		! 1 cold fluid spef. heat capacity 
PH3_UA		! 2 overall heat transfer factor
PH3_FRref_cold		! 3 cold sid ref flow rate
0		! 4 power law exp for UA
INPUTS 8
18,5 		! S-split-3:outlet enthalpy 1 ->Hot side inlet enthalpy
p_in_coldPH		! dp_ColdExtr:p_in_coldPH ->Hot side inlet pressure
20,3 		! Subcooler-2:Cold-side outlet temperature ->Cold side inlet temperature
20,4 		! Subcooler-2:Cold-side flow rate ->Cold side inlet flow rate
0,0		! [unconnected] Condensate inlet temperature
0,0		! [unconnected] Condensate inlet flow rate
0,0		! [unconnected] Condensate inlet quality
0,0		! [unconnected] on/off
*** INITIAL INPUT VALUES
3000 1. 20 0 0.0 0.0 0.0 PH3_onoff 
*------------------------------------------------------------------------------
*
* Model "Subcooler-2" (Type 320)
* 
*
*
UNIT 20 TYPE 320	 Subcooler-2
*$UNIT_NAME Subcooler-2
*$MODEL .\STEC Library\Rankine\preheating\Subcooler.tmf
*$POSITION 1099 1076
*$LAYER Main # 
PARAMETERS 6
1		! 1 Parallel flow mode
HE3_UA		! 2 Overall heat transfer coefficient of exchanger
HE3_Cp_hot		! 3 Specific heat of hot side fluid
HE3_CP_cold		! 4 Specific heat of cold side fluid
HE3_FRref_cold		! 5 cold side ref flow
0		! 6 power law exp for UA
INPUTS 4
19,4 		! Preheater-2:Hot side outlet temperature ->Hot side inlet temperature
19,5 		! Preheater-2:Hot side outlet flow rate ->Hot side flow rate
21,4 		! C-PUMP-2:outlet temperature ->Cold side inlet temperature
21,1 		! C-PUMP-2:Pump outlet mass flow ->Cold side flow rate
*** INITIAL INPUT VALUES
20.0 100.0 20.0 100.0 
*------------------------------------------------------------------------------
*
* Model "C-PUMP-2" (Type 390)
*
* 
*
*
UNIT 21 TYPE 390	 C-PUMP-2
*$UNIT_NAME C-PUMP-2
*$MODEL .\STEC Library\Rankine\Condenser\C-PUMP.tmf
*$POSITION 1193 1172
*$LAYER Main # 
PARAMETERS 4
PUMP_dealp_mode		! 1 Mode of operation
PUMP_dealp_Pin		! 2 deltaP (1) or Pin(2)
PUMP_dealp_ro		! 3 Density of fluid
PUMP_dealp_ETA		! 4 Pumping efficiency
INPUTS 3
13,3 		! Deaerator:Feed Water out flow rate ->Demanded Mass flow rate
24,4 		! S-split-2:inlet pressure  ->Pump outlet pressure
13,1 		! Deaerator:Feed water out temp ->Inlet temperature
*** INITIAL INPUT VALUES
0 1.0 20.0 
*------------------------------------------------------------------------------
*
* Model "Deaerator-2" (Type 384)
* 
*
*
UNIT 22 TYPE 384	 Deaerator-2
*$UNIT_NAME Deaerator-2
*$MODEL .\STEC Library\Rankine\preheating\Deaerator.tmf
*$POSITION 801 1018
*$LAYER Main # 
INPUTS 8
19,2 		! Preheater-2:Cold  side outlet temperture ->Feed Water in tmp
19,3 		! Preheater-2:Cold side outlet flow rate ->Feed Water flow rate
24,5 		! S-split-2:outlet enthalpy 1 ->steam inlet enthalpy
p_in_DeaHP		! dp_DeaHP:p_in_DeaHP ->steam inlet pressure
31,1 		! Subcooler:Hot-side outlet temperature ->condesate inlet temperture
31,2 		! Subcooler:Hot-side flow rate ->Condesate inlet flow rate
0,0		! [unconnected] Condensate inlet quality
0,0		! [unconnected] Dearator on/off
*** INITIAL INPUT VALUES
20 0. 3.e6 1.0 0.0 0.0 0.0 1.0 
*------------------------------------------------------------------------------
*
* Model "C-PUMP2" (Type 390)
* 
*
*
UNIT 23 TYPE 390	 C-PUMP2
*$UNIT_NAME C-PUMP2
*$MODEL .\STEC Library\Rankine\Condenser\C-PUMP.tmf
*$POSITION 797 1172
*$LAYER Main # 
PARAMETERS 4
PUMP2_mode		! 1 Mode of operation
PUMP2_Pin		! 2 deltaP (1) or Pin(2)
PUMP2_ro		! 3 Density of fluid
PUMP2_ETA		! 4 Pumping efficiency
INPUTS 3
40,1 		! Type23:Control signal ->Demanded Mass flow rate
p_in_boil		! BOILER:p_in_boil ->Pump outlet pressure
22,1 		! Deaerator-2:Feed water out temp ->Inlet temperature
*** INITIAL INPUT VALUES
0 140 20.0 
*------------------------------------------------------------------------------
*
* Model "S-split-2" (Type 389)
* 
*
*
UNIT 24 TYPE 389	 S-split-2
*$UNIT_NAME S-split-2
*$MODEL .\STEC Library\Rankine\Turbine\S-split.tmf
*$POSITION 802 778
*$LAYER Main # 
INPUTS 4
22,2 		! Deaerator-2:required steam flow rate ->Demanded Flow Out 1
26,2 		! Stage_HPT-2:turbine outlet flowrate ->inlet flow rate
25,1 		! Stage_LPT-1:turbine inlet pressure ->outlet pressure 2
26,3 		! Stage_HPT-2:turbine outlet enthalpy ->inlet enthalpy
*** INITIAL INPUT VALUES
0 0 1.0 2000 
*------------------------------------------------------------------------------
*
* Model "Stage_LPT-1" (Type 318)
* 
*
*
UNIT 25 TYPE 318	 Stage_LPT-1
*$UNIT_NAME Stage_LPT-1
*$MODEL .\STEC Library\Rankine\Turbine\Stage.tmf
*$POSITION 889 682
*$LAYER Main # 
PARAMETERS 8
LPT1_Pi_dsgn		! 1 design inlet pressure
LPT1_Po_dsgn		! 2 design outlet pressure
LPT1_FR_dsgn		! 3 design flow rate
LPT1_ETA_dsgn		! 4 design inner efficiency
*
0.98		! 5 generator efficiency
0.0		! 6 coef. for inner eff eq
0.0		! 7 b coeff for inner eff
0.0		! 8 c coeff for inner eff
INPUTS 4
18,4 		! S-split-3:inlet pressure  ->Turbine outlet pressure
24,3 		! S-split-2:outlet flow rate 2 ->Turbine inlet flow rate
24,6 		! S-split-2:outlet enthalpy 2 ->Turbine inlet enthalpy
0,0		! [unconnected] Bypass indicator
*** INITIAL INPUT VALUES
LPT1_Po LPT1_FR LPT1_h LPT1_bypass 
*------------------------------------------------------------------------------
*
* Model "Stage_HPT-2" (Type 318)
* 
*
*
UNIT 26 TYPE 318	 Stage_HPT-2
*$UNIT_NAME Stage_HPT-2
*$MODEL .\STEC Library\Rankine\Turbine\Stage.tmf
*$POSITION 634 682
*$LAYER Main # 
PARAMETERS 8
HPT2_Pi_dsgn		! 1 design inlet pressure
HPT2_Po_dsgn		! 2 design outlet pressure
HPT2_FR_dsgn		! 3 design flow rate
HPT2_ETA_dsgn		! 4 design inner efficiency
0.98		! 5 generator efficiency
0.0		! 6 coef. for inner eff eq
0.0		! 7 b coeff for inner eff
0.0		! 8 c coeff for inner eff
INPUTS 4
24,4 		! S-split-2:inlet pressure  ->Turbine outlet pressure
28,3 		! S-split-4:outlet flow rate 2 ->Turbine inlet flow rate
28,6 		! S-split-4:outlet enthalpy 2 ->Turbine inlet enthalpy
0,0		! [unconnected] Bypass indicator
*** INITIAL INPUT VALUES
HPT2_Po HPT2_FR HPT2_h HPT2_bypass 
*------------------------------------------------------------------------------
*
* Model "S-split-4" (Type 389)
* 
*
*
UNIT 28 TYPE 389	 S-split-4
*$UNIT_NAME S-split-4
*$MODEL .\STEC Library\Rankine\Turbine\S-split.tmf
*$POSITION 546 767
*$LAYER Main # 
INPUTS 4
30,1 		! Preheater:Demanded hot inlet flow rate ->Demanded Flow Out 1
36,2 		! Stage_HPT-1:turbine outlet flowrate ->inlet flow rate
26,1 		! Stage_HPT-2:turbine inlet pressure ->outlet pressure 2
36,3 		! Stage_HPT-1:turbine outlet enthalpy ->inlet enthalpy
*** INITIAL INPUT VALUES
0 0 1.0 2000 
*------------------------------------------------------------------------------
*
* EQUATIONS "dp_HotExtr"
* 
EQUATIONS 1
p_in_hotPH = (1-0.045)*[28,2]
*$UNIT_NAME dp_HotExtr
*$LAYER Main
*$POSITION 479 885
*
*------------------------------------------------------------------------------
*
*
* Model "Preheater" (Type 317)
* 
*
*
UNIT 30 TYPE 317	 Preheater
*$UNIT_NAME Preheater
*$MODEL .\STEC Library\Rankine\preheating\Preheater.tmf
*$POSITION 542 1023
*$LAYER Main # 
PARAMETERS 4
PH1_Cp_cold		! 1 cold fluid spef. heat capacity 
PH1_UA		! 2 overall heat transfer factor
PH1_FRref_cold		! 3 cold sid ref flow rate
0		! 4 power law exp for UA
INPUTS 8
28,5 		! S-split-4:outlet enthalpy 1 ->Hot side inlet enthalpy
p_in_hotPH		! dp_HotExtr:p_in_hotPH ->Hot side inlet pressure
31,3 		! Subcooler:Cold-side outlet temperature ->Cold side inlet temperature
31,4 		! Subcooler:Cold-side flow rate ->Cold side inlet flow rate
0,0		! [unconnected] Condensate inlet temperature
0,0		! [unconnected] Condensate inlet flow rate
0,0		! [unconnected] Condensate inlet quality
0,0		! [unconnected] on/off
*** INITIAL INPUT VALUES
3000 1. 20 0 0.0 0.0 0.0 PH1_onoff 
*------------------------------------------------------------------------------
*
* Model "Subcooler" (Type 320)
* 
*
*
UNIT 31 TYPE 320	 Subcooler
*$UNIT_NAME Subcooler
*$MODEL .\STEC Library\Rankine\preheating\Subcooler.tmf
*$POSITION 655 1071
*$LAYER Main # 
PARAMETERS 6
1		! 1 Parallel flow mode
HE1_UA		! 2 Overall heat transfer coefficient of exchanger
HE1_Cp_hot		! 3 Specific heat of hot side fluid
HE1_CP_cold		! 4 Specific heat of cold side fluid
HE1_FRref_cold		! 5 cold side ref flow
0		! 6 power law exp for UA
INPUTS 4
30,4 		! Preheater:Hot side outlet temperature ->Hot side inlet temperature
30,5 		! Preheater:Hot side outlet flow rate ->Hot side flow rate
23,4 		! C-PUMP2:outlet temperature ->Cold side inlet temperature
23,1 		! C-PUMP2:Pump outlet mass flow ->Cold side flow rate
*** INITIAL INPUT VALUES
20.0 100.0 20.0 100.0 
*------------------------------------------------------------------------------
*
* EQUATIONS "dp_DeaHP"
* 
EQUATIONS 1
p_in_DeaHP = (1-0.05)*[24,2]  
*$UNIT_NAME dp_DeaHP
*$LAYER Main
*$POSITION 755 895
*
*------------------------------------------------------------------------------
*
*
* EQUATIONS "dp_ColdExtr"
* 
EQUATIONS 1
p_in_coldPH = (1-0.03)*[18,2]  
*$UNIT_NAME dp_ColdExtr
*$LAYER Main
*$POSITION 951 895
*
*------------------------------------------------------------------------------
*
*
* EQUATIONS "dp_DeaLP"
* 
EQUATIONS 1
p_in_DeaLP = (1-0.03)*[12,2]
*$UNIT_NAME dp_DeaLP
*$LAYER Main
*$POSITION 1212 895
*
*------------------------------------------------------------------------------
*
*
* Model "HPT" (Type 65)
* 
*
*
UNIT 35 TYPE 65	 HPT
*$UNIT_NAME HPT
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 518 564
*$LAYER Main # 
PARAMETERS 12
2		! 1 Nb. of left-axis variables
2		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
200.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
200000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
64		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 4
26,1 		! Stage_HPT-2:turbine inlet pressure ->Left axis variable-1
36,1 		! Stage_HPT-1:turbine inlet pressure ->Left axis variable-2
26,2 		! Stage_HPT-2:turbine outlet flowrate ->Right axis variable-1
36,2 		! Stage_HPT-1:turbine outlet flowrate ->Right axis variable-2
*** INITIAL INPUT VALUES
HPT2pin HPT1pin HPT2mout HPT1mout 
LABELS  3
"Pressures"
"Mass Flow Rates"
"HPT"
*** External files
ASSIGN "HPT.txt" 64
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "Stage_HPT-1" (Type 318)
* 
*
*
UNIT 36 TYPE 318	 Stage_HPT-1
*$UNIT_NAME Stage_HPT-1
*$MODEL .\STEC Library\Rankine\Turbine\Stage.tmf
*$POSITION 335 682
*$LAYER Main # 
PARAMETERS 8
HPT1_Pi_dsgn		! 1 design inlet pressure
HPT1_Po_dsgn		! 2 design outlet pressure
HPT1_FR_dsgn		! 3 design flow rate
HPT1_ETA_dsgn		! 4 design inner efficiency
0.98		! 5 generator efficiency
0.0		! 6 coef. for inner eff eq
0.0		! 7 b coeff for inner eff
0.0		! 8 c coeff for inner eff
INPUTS 4
28,4 		! S-split-4:inlet pressure  ->Turbine outlet pressure
Boil_mf_out_h		! BOILER:Boil_mf_out_h ->Turbine inlet flow rate
0,0		! [unconnected] Turbine inlet enthalpy
0,0		! [unconnected] Bypass indicator
*** INITIAL INPUT VALUES
HPT1_Po HPT1_FR HPT1_h HPT1_bypass 
*
*------------------------------------------------------------------------------
*
* Model "X2H" (Type 391)
* 
*
*
UNIT 37 TYPE 391	 X2H
*$UNIT_NAME X2H
*$MODEL .\STEC Library\Rankine\Utility\X2H.tmf
*$POSITION 404 1098
*$LAYER Main # 
INPUTS 4
30,2 		! Preheater:Cold  side outlet temperture ->Steam temperture
p_in_boil		! BOILER:p_in_boil ->Steam pressure
0,0		! [unconnected] Steam quality
30,3 		! Preheater:Cold side outlet flow rate ->Steam flow rate
*** INITIAL INPUT VALUES
300 140 0 206352 
*------------------------------------------------------------------------------
*
* Model "m_dot//h,p_in_boil" (Type 65)
* 
*
*
UNIT 38 TYPE 65	 m_dot//h,p_in_boil
*$UNIT_NAME m_dot//h,p_in_boil
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 202 1301
*$LAYER Main # 
PARAMETERS 12
1		! 1 Nb. of left-axis variables
2		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
1000000.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
3000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
65		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 3
37,3 		! X2H:steam flow rate ->Left axis variable
37,1 		! X2H:steam enthalpy ->Right axis variable-1
37,2 		! X2H:steam pressure ->Right axis variable-2
*** INITIAL INPUT VALUES
m_dot h_in_boiler p_in_boil 
LABELS  3
"Mass Flow Rates"
"Pr - Ent"
"BoilerInlet"
*** External files
ASSIGN "m,p,h_in_boiler.plt" 65
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* EQUATIONS "BOILER"
* 
EQUATIONS 9
Boil_mf_in_sec = [30,3]/3600
eta_boiler = 0.83
LHV = 12107
Boil_mf_out_h = [30,3]
Qboiler_MW = Boil_mf_in_sec*(Boil_h_out-[37,1])/1000
mf_fuel_h = Qlhv_MW*1000/LHV*3600
Boil_h_out = 3436.29
p_in_boil = [36,1]+0.0074*(Boil_mf_in_sec)^2 + 0.0012*Boil_mf_in_sec+6.5675
Qlhv_MW = Qboiler_MW/eta_boiler
*$UNIT_NAME BOILER
*$LAYER Main
*$POSITION 245 874
*
*------------------------------------------------------------------------------
*
*
* Model "Type23" (Type 23)
* 
*
*
UNIT 40 TYPE 23	 Type23
*$UNIT_NAME Type23
*$MODEL .\Controllers\PID Controller\Type23.tmf
*$POSITION 1760 1492
*$LAYER Main # 
PARAMETERS 2
0		! 1 mode
0		! 2 Maximum number of oscillations
INPUTS 13
Qdh		! Equa:Qdh ->Setpoint
Qsteam		! Equa:Qsteam ->Controlled variable
0,0		! [unconnected] On / Off signal
0,0		! [unconnected] Minimum control signal
0,0		! [unconnected] Maximum control signal
0,0		! [unconnected] Threshold for non-zero output
0,0		! [unconnected] Gain constant
0,0		! [unconnected] Integral time
0,0		! [unconnected] Derivative time
0,0		! [unconnected] Tracking time for anti-windup
0,0		! [unconnected] Fraction of ySet for proportional effect
0,0		! [unconnected] Fraction of ySet for derivative effect
0,0		! [unconnected] High-frequency limit on derivative
*** INITIAL INPUT VALUES
0 0 1 -1000000 1000000 0 1 1 0 -1 1 1 10 
*------------------------------------------------------------------------------
*
* Model "m_for_conds" (Type 65)
* 
*
*
UNIT 42 TYPE 65	 m_for_conds
*$UNIT_NAME m_for_conds
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 1283 320
*$LAYER Main # 
PARAMETERS 12
2		! 1 Nb. of left-axis variables
1		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
30.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
60000.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
66		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 3
m_steamhigh_sec		! Cond-2:m_steamhigh_sec ->Left axis variable-1
m_steamlow_sec		! Cond_low:m_steamlow_sec ->Left axis variable-2
Qdh		! Equa:Qdh ->Right axis variable
*** INITIAL INPUT VALUES
m_steamhigh_sec m_steamlow_sec Qdh 
LABELS  3
"Mass Flow Rates"
"Heat Demand "
"CondsExtractions"
*** External files
ASSIGN "m_steam_conds.txt" 66
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "S-split-5" (Type 389)
* 
*
*
UNIT 41 TYPE 389	 S-split-5
*$UNIT_NAME S-split-5
*$MODEL .\STEC Library\Rankine\Turbine\S-split.tmf
*$POSITION 1505 660
*$LAYER Main # 
INPUTS 4
m_steam_required_h		! Cond-2:m_steam_required_h ->Demanded Flow Out 1
12,3 		! S-split:outlet flow rate 2 ->inlet flow rate
2,1 		! Stage_LPT-3:turbine inlet pressure ->outlet pressure 2
12,6 		! S-split:outlet enthalpy 2 ->inlet enthalpy
*** INITIAL INPUT VALUES
0 0 1.0 2000 
*------------------------------------------------------------------------------
*
* Model "X2H-2" (Type 391)
* 
*
*
UNIT 43 TYPE 391	 X2H-2
*$UNIT_NAME X2H-2
*$MODEL .\STEC Library\Rankine\Utility\X2H.tmf
*$POSITION 1749 372
*$LAYER Main # 
INPUTS 4
Tcond_high		! T,p_cond:Tcond_high ->Steam temperture
41,2 		! S-split-5: outlet  pressure 1 ->Steam pressure
0,0		! [unconnected] Steam quality
41,1 		! S-split-5:outlet flow rate 1 ->Steam flow rate
*** INITIAL INPUT VALUES
300 20 0.000001 206352 
*------------------------------------------------------------------------------
*
* EQUATIONS "Cond-2"
* 
EQUATIONS 4
Qdh_high = m_dh_out*4.186*([5,1]-Tin_cond_high)
Qsteam_high = m_steamhigh_sec*([41,5]-[43,1])
m_steamhigh_sec = Qdh_high/max(0.01,([41,5]-[43,1]))
m_steam_required_h = m_steamhigh_sec*3600
*$UNIT_NAME Cond-2
*$LAYER Main
*$POSITION 1665 554
*
*------------------------------------------------------------------------------
*
*
* Model "p,h_cond_high" (Type 65)
* 
*
*
UNIT 45 TYPE 65	 p,h_cond_high
*$UNIT_NAME p,h_cond_high
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 2014 106
*$LAYER Main # 
PARAMETERS 12
2		! 1 Nb. of left-axis variables
2		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
10.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
2500.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
67		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 4
2,1 		! Stage_LPT-3:turbine inlet pressure ->Left axis variable-1
pcond_high_bar		! T,p_cond:pcond_high_bar ->Left axis variable-2
43,1 		! X2H-2:steam enthalpy ->Right axis variable-1
41,5 		! S-split-5:outlet enthalpy 1 ->Right axis variable-2
*** INITIAL INPUT VALUES
pinLPT3_condhigh pcond_high_bar h_condhigh h_steamhigh 
LABELS  3
"Pressures"
"Enthaplies"
"CondHigh"
*** External files
ASSIGN "condHigh.txt" 67
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* EQUATIONS "Equa"
* 
EQUATIONS 2
Qdh = Qdh_low+Qdh_high
Qsteam = Qsteam_low+Qsteam_high
*$UNIT_NAME Equa
*$LAYER Main
*$POSITION 1738 703
*
*------------------------------------------------------------------------------
*
*
* EQUATIONS "MIX"
* 
EQUATIONS 2
m_in_DeaLP = [14,1]+m_steam_required_h
Tin_DeaLP = (([14,4]*[14,1])+(Tcond_high*m_steam_required_h))/max(0.01,m_in_DeaLP)
*$UNIT_NAME MIX
*$LAYER Main
*$POSITION 1647 1204
*
*------------------------------------------------------------------------------
*
*
* EQUATIONS "Equa-3"
* 
EQUATIONS 11
Wgross_MW = ([36,4]+[26,4]+[25,4]+[17,4]+[2,4])/3600/1000
Wnet_MW = (Wgross_MW-(([14,3]+[21,3]+[23,3])/3600/1000))*0.9
eta_net = Wnet_MW/max(0.01,Qlhv_MW)
eta_gross = Wgross_MW/max(0.01,Qlhv_MW)
HPT_powerMW = ([36,4]+[26,4])/1000/3600
LPT_powerMW = ([25,4]+[17,4]+[2,4])/1000/3600
P1_powerMW = [14,3]/1000/3600
P2_powerMW = [21,3]/1000/3600
P3_powerMW = [23,3]/1000/3600
Qconds_MW = Qsteam/1000
eta_CHP = (Wnet_MW+Qconds_MW)/max(0.01,Qlhv_MW)
*$UNIT_NAME Equa-3
*$LAYER Main
*$POSITION 703 255
*
*------------------------------------------------------------------------------
*
*
* Model "Type65c" (Type 65)
* 
*
*
UNIT 49 TYPE 65	 Type65c
*$UNIT_NAME Type65c
*$MODEL .\Output\Online Plotter\Online Plotter With File\No Units\Type65c.tmf
*$POSITION 758 71
*$LAYER Main # 
PARAMETERS 12
4		! 1 Nb. of left-axis variables
3		! 2 Nb. of right-axis variables
0.0		! 3 Left axis minimum
100.0		! 4 Left axis maximum
0.0		! 5 Right axis minimum
1.0		! 6 Right axis maximum
1		! 7 Number of plots per simulation
12		! 8 X-axis gridpoints
0		! 9 Shut off Online w/o removing
82		! 10 Logical Unit for output file
0		! 11 Output file units
0		! 12 Output file delimiter
INPUTS 7
Wgross_MW		! Equa-3:Wgross_MW ->Left axis variable-1
Wnet_MW		! Equa-3:Wnet_MW ->Left axis variable-2
Qboiler_MW		! BOILER:Qboiler_MW ->Left axis variable-3
Qlhv_MW		! BOILER:Qlhv_MW ->Left axis variable-4
eta_gross		! Equa-3:eta_gross ->Right axis variable-1
eta_net		! Equa-3:eta_net ->Right axis variable-2
eta_CHP		! Equa-3:eta_CHP ->Right axis variable-3
*** INITIAL INPUT VALUES
Wgross_MW Wnet_MW Qboiler_MW Q_LHV_MW eta_gross eta_net eta_CHP 
LABELS  3
"Powers"
"Efficiencies"
"Performances"
*** External files
ASSIGN "Eta_W.txt" 82
*|? What file should the online print to? |1000
*------------------------------------------------------------------------------
*
* Model "Type25c" (Type 25)
* 
*
*
UNIT 50 TYPE 25	 Type25c
*$UNIT_NAME Type25c
*$MODEL .\Output\Printer\Unformatted\No Units\Type25c.tmf
*$POSITION 241 127
*$LAYER Outputs # 
PARAMETERS 10
STEP		! 1 Printing interval
START		! 2 Start time
STOP		! 3 Stop time
83		! 4 Logical unit
0		! 5 Units printing mode
0		! 6 Relative or absolute start time
-1		! 7 Overwrite or Append
-1		! 8 Print header
0		! 9 Delimiter
1		! 10 Print labels
INPUTS 11
HPT_powerMW		! Equa-3:HPT_powerMW ->Input to be printed-1
LPT_powerMW		! Equa-3:LPT_powerMW ->Input to be printed-2
P1_powerMW		! Equa-3:P1_powerMW ->Input to be printed-3
P2_powerMW		! Equa-3:P2_powerMW ->Input to be printed-4
P3_powerMW		! Equa-3:P3_powerMW ->Input to be printed-5
Wnet_MW		! Equa-3:Wnet_MW ->Input to be printed-6
Wgross_MW		! Equa-3:Wgross_MW ->Input to be printed-7
eta_net		! Equa-3:eta_net ->Input to be printed-8
eta_gross		! Equa-3:eta_gross ->Input to be printed-9
eta_CHP		! Equa-3:eta_CHP ->Input to be printed-10
mf_fuel_h		! BOILER:mf_fuel_h ->Input to be printed-11
*** INITIAL INPUT VALUES
HPT_powerMW LPT_powerMW P1_powerMW P2_powerMW P3_powerMW Wnet_MW Wgross_MW
*
eta_net eta_gross eta_CHP m_fuel_h 
*** External files
ASSIGN "Power.txt" 83
*|? Output file for printed results |1000
*------------------------------------------------------------------------------
*
* Model "Type9e" (Type 9)
* 
*
*|*
*|* *** Model Type9e (Type 9, Unit 51)
*|*
CONSTANTS 9
*|*PARAMETERS																							VALUES			UNITS
MODE3= 3.0000000000000E+00
*|Mode                                    |-|-|0|1|1|6.000|1000
HEADERLI3= 0.0000000000000E+00
*|Header Lines to Skip                    |-|-|0|1|0|1000000.00000|1000
NOOFVALU3= 1.0000000000000E+00
*|No. of values to read                   |-|-|0|1|1|98.000|1000
TIMEINTE3= 5.0000000000000E-01
*|Time interval of data                   |hr|hr|0|1|0.0|1000000.00000|1000
INTERPOL3= 1.0000000000000E+00
*|Interpolate or not                      |-|-|0|1|-1|1.000|1000
MULTIPLI3= 1.0000000000000E+00
*|Multiplication factor                   |-|-|0|1|-1000000.00000|1000000.00000|1000
ADDITION3= 0.0000000000000E+00
*|Addition factor                         |-|-|0|1|-1000000.00000|1000000.00000|1000
AVERAGEO3= 1.0000000000000E+00
*|Average or instantaneous value          |-|-|0|1|0|1.000|1000
LOGICALU= 8.4000000000000E+01
*|Logical unit for input file             |-|-|0|1|30|999.000|1000
*
UNIT 51 TYPE 9	 Type9e
*$UNIT_NAME Type9e
*$MODEL .\Utility\Data Readers\Generic Data Files\Expert Mode\Free Format\Type9e.tmf
*$POSITION 2200 426
*$LAYER Weather - Data Files # 
PARAMETERS 10
MODE3		! 1 Mode
HEADERLI3		! 2 Header Lines to Skip
NOOFVALU3		! 3 No. of values to read
TIMEINTE3		! 4 Time interval of data
INTERPOL3		! 5 Interpolate or not
MULTIPLI3		! 6 Multiplication factor
ADDITION3		! 7 Addition factor
AVERAGEO3		! 8 Average or instantaneous value
LOGICALU		! 9 Logical unit for input file
-1		! 10 Free format mode
*** External files
ASSIGN "Q_th_excel.txt" 84
*|? Input file name |1000
*------------------------------------------------------------------------------
*
END
